/**
 * WP OAuth Server - Remote Logout Extension
 * Combined JS file for better performance (minified)
 */
!function(e,t,i){"use strict";i(function(){const t=i(".nav-tab-wrapper .nav-tab"),n=i(".tab-content");function s(){i('<style>').text('\n          /* Animation keyframes */\n          @keyframes rotation { \n            from { transform: rotate(0deg); } \n            to { transform: rotate(359deg); } \n          }\n          @keyframes copySuccess {\n            0%, 100% { transform: scale(1); }\n            50% { transform: scale(1.2); }\n          }\n          \n          /* Tooltips */\n          .wo-copy-tooltip {\n            position: absolute;\n            z-index: 9999;\n            padding: 4px 10px;\n            background-color: rgba(0, 0, 0, 0.75);\n            color: #fff;\n            font-size: 12px;\n            font-weight: 500;\n            border-radius: 3px;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.2);\n            pointer-events: none;\n            text-align: center;\n            transition: opacity 0.2s, transform 0.2s;\n          }\n          \n          /* Form elements */\n          .wo-form-submit .button {\n            transition: transform 0.2s, box-shadow 0.2s;\n          }\n          .wo-form-submit .button:hover {\n            transform: translateY(-1px);\n            box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n          }\n          .wo-text-input, .wo-select {\n            transition: border-color 0.2s;\n          }\n          .wo-text-input:focus, .wo-select:focus {\n            border-color: #2271b1;\n          }\n          \n          /* Cards */\n          .wo-card {\n            transition: box-shadow 0.2s;\n          }\n          .wo-card:hover {\n            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);\n          }\n          \n          /* Processing indicators */\n          .wo-processing .dashicons {\n            animation: rotation 2s infinite linear;\n          }\n        ').appendTo("head")}function o(){t.length&&n.length&&(t.on("click",function(e){e.preventDefault();const s=i(this).attr("href"),o=i(this).data("tab");if(t.removeClass("nav-tab-active"),i(this).addClass("nav-tab-active"),n.hide(),i(s).show(),history.pushState){const e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?page=wo-remote-logout&tab="+o;window.history.pushState({path:e},"",e)}}),i(".nav-tab-active").attr("href")&&(n.hide(),i(i(".nav-tab-active").attr("href")).show()))}function a(){i(".toggle-details").on("click",function(){const e=i(this),t=e.next(".log-details");t.slideToggle(200,function(){e.text(t.is(":visible")?"Hide Details":"View Details")})});const e=i(".toggle-details-icon-btn");e.each(function(){const e=i(this),t=e.find(".dashicons"),n=t.attr("title")||"View Details";e.attr("data-tooltip")||e.attr("data-tooltip",n)}),i(document).on("click",".toggle-details-icon-btn",function(e){e.preventDefault(),e.stopPropagation();const t=i(this),n=t.find(".dashicons"),s=t.data("target");if(!s)return!1;const o=i("#"+s);if(!o.length)return!1;const a=o.is(":visible");return a?(t.removeClass("active"),n.removeClass("dashicons-visibility-off").addClass("dashicons-visibility"),n.attr("title","View Details"),t.attr("data-tooltip","View Details"),o.fadeOut(200,function(){o.removeClass("visible")})):(t.addClass("active"),n.removeClass("dashicons-visibility").addClass("dashicons-visibility-off"),n.attr("title","Hide Details"),t.attr("data-tooltip","Hide Details"),i(".toggle-details-icon-btn.active").not(t).each(function(){const e=i(this),t=e.find(".dashicons"),n=e.data("target");n!==s&&(i("#"+n).fadeOut(200),e.removeClass("active"),t.removeClass("dashicons-visibility-off").addClass("dashicons-visibility"),t.attr("title","View Details"),e.attr("data-tooltip","View Details"))}),o.fadeIn(200,function(){o.addClass("visible")})),!1})}function r(){function e(e,t){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>n(t)).catch(()=>s(e,t)):s(e,t)}function s(e,t){const n=i("<textarea>");i("body").append(n),n.val(e).select();const s=document.execCommand("copy");n.remove(),s&&a(t)}function n(e){a(e)}function a(e){const t=e.find(".dashicons").attr("class");e.find(".dashicons").removeClass().addClass("dashicons dashicons-yes-alt"),e.css("color","#46b450");const n=e.data("success-text")||"Copied!",s=i('<div class="wo-copy-tooltip">'+n+"</div>");i("body").append(s);const o=e.offset();s.css({left:o.left-s.width()/2+e.width()/2,top:o.top-30,opacity:0}),requestAnimationFrame(()=>{s.css({opacity:1,top:o.top-35}),setTimeout(()=>{s.css({opacity:0,top:o.top-30}),setTimeout(()=>{s.remove(),e.css("color",""),e.find(".dashicons").removeClass().addClass(t)},200)},1500)})}i(document).on("click",".copy-endpoint, .copy-code",function(t){t.preventDefault();const n=i(this),s=n.data("endpoint")||n.data("code");s&&e(s,n)})}function c(){const e=i("#wo-settings-form");if(!e.length)return;const t=i("#wo-save-settings"),n=i("#wo-save-status");e.on("submit",function(s){s.preventDefault(),t.prop("disabled",!0).text("Saving...");const o=new FormData;if(e.find('input[type="text"], input[type="number"], input[type="email"], input[type="hidden"]').each(function(){const e=i(this);e.is(":disabled")||o.append(e.attr("name"),e.val())}),e.find('input[type="checkbox"]').each(function(){const e=i(this);o.append(e.attr("name"),e.prop("checked")?"1":"0")}),"undefined"!=typeof woRemoteLogout&&(o.append("nonce",woRemoteLogout.nonce),o.append("action","wo_save_settings"),i.ajax({url:woRemoteLogout.ajaxUrl,method:"POST",data:o,processData:!1,contentType:!1,success:function(e){t.prop("disabled",!1).text("Save Settings"),e.success?n.html('<div class="notice notice-success inline"><p>Settings saved successfully.</p></div>').show():(const s=e.data||"Unknown error occurred.";n.html('<div class="notice notice-error inline"><p>Error: '+s+"</p></div>").show()),n.css("opacity",0).animate({opacity:1},300),setTimeout(function(){n.fadeOut(300,function(){i(this).empty()})},3e3)},error:function(){t.prop("disabled",!1).text("Save Settings"),n.html('<div class="notice notice-error inline"><p>Error saving settings. Please try again.</p></div>').show()}})),!1})}function d(){i(".widefat").not(".table-responsive .widefat").wrap('<div class="table-responsive"></div>')}function l(){i(document).on("click",".notice-dismiss",function(){i(this).closest(".notice").fadeOut(300,function(){i(this).remove()})})}s(),o(),a(),r(),c(),d(),l()})}(window,document,jQuery); 