(n=>{n(function(){let o=n(".nav-tab-wrapper .nav-tab"),i=n(".tab-content");function t(){function a(t,e){var o=n("<textarea>"),t=(n("body").append(o),o.val(t).select(),document.execCommand("copy"));o.remove(),t&&s(e)}function s(t){let e=t.find(".dashicons").attr("class");t.find(".dashicons").removeClass().addClass("dashicons dashicons-yes-alt"),t.css("color","#46b450");var o=t.data("success-text")||"Copied!";let i=n('<div class="wo-copy-tooltip">'+o+"</div>"),a=(n("body").append(i),t.offset());i.css({left:a.left-i.width()/2+t.width()/2,top:a.top-30,opacity:0}),requestAnimationFrame(()=>{i.css({opacity:1,top:a.top-35}),setTimeout(()=>{i.css({opacity:0,top:a.top-30}),setTimeout(()=>{i.remove(),t.css("color",""),t.find(".dashicons").removeClass().addClass(e)},200)},1500)})}n(document).on("click",".copy-endpoint, .copy-code",function(t){t.preventDefault();var e,o,t=n(this),i=t.data("endpoint")||t.data("code");i&&(e=i,o=t,navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>s(o)).catch(()=>a(e,o)):a(e,o))})}var e;n("<style>").text(`
          /* Animation keyframes */
          @keyframes rotation { 
            from { transform: rotate(0deg); } 
            to { transform: rotate(359deg); } 
          }
          @keyframes copySuccess {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
          }
          
          /* Tooltips */
          .wo-copy-tooltip {
            position: absolute;
            z-index: 9999;
            padding: 4px 10px;
            background-color: rgba(0, 0, 0, 0.75);
            color: #fff;
            font-size: 12px;
            font-weight: 500;
            border-radius: 3px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            pointer-events: none;
            text-align: center;
            transition: opacity 0.2s, transform 0.2s;
          }
          
          /* Form elements */
          .wo-form-submit .button {
            transition: transform 0.2s, box-shadow 0.2s;
          }
          .wo-form-submit .button:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
          }
          .wo-text-input, .wo-select {
            transition: border-color 0.2s;
          }
          .wo-text-input:focus, .wo-select:focus {
            border-color: #2271b1;
          }
          
          /* Cards */
          .wo-card {
            transition: box-shadow 0.2s;
          }
          .wo-card:hover {
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
          }
          
          /* Processing indicators */
          .wo-processing .dashicons {
            animation: rotation 2s infinite linear;
          }
        `).appendTo("head"),o.length&&i.length&&(o.on("click",function(t){t.preventDefault();var t=n(this).attr("href"),e=n(this).data("tab");o.removeClass("nav-tab-active"),n(this).addClass("nav-tab-active"),i.hide(),n(t).show(),history.pushState&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+"?page=wo-remote-logout&tab="+e,window.history.pushState({path:t},"",t))}),e=n(".nav-tab-active").attr("href"))&&(i.hide(),n(e).show()),n(".toggle-details").on("click",function(){let t=n(this),e=t.next(".log-details");e.slideToggle(200,function(){t.text(e.is(":visible")?"Hide Details":"View Details")})}),n(".toggle-details-icon-btn").each(function(){var t=n(this),e=t.find(".dashicons").attr("title")||"View Details";t.attr("data-tooltip")||t.attr("data-tooltip",e)}),n(document).on("click",".toggle-details-icon-btn",function(e){e.preventDefault(),e.stopPropagation();var e=n(this),o=e.find(".dashicons");let i=e.data("target");if(i){let t=n("#"+i);0!==t.length&&(t.is(":visible")?(e.removeClass("active"),o.removeClass("dashicons-visibility-off").addClass("dashicons-visibility"),o.attr("title","View Details"),e.attr("data-tooltip","View Details"),t.fadeOut(200,function(){t.removeClass("visible")})):(e.addClass("active"),o.removeClass("dashicons-visibility").addClass("dashicons-visibility-off"),o.attr("title","Hide Details"),e.attr("data-tooltip","Hide Details"),n(".toggle-details-icon-btn.active").not(e).each(function(){var t=n(this),e=t.find(".dashicons"),o=t.data("target");o!==i&&(n("#"+o).fadeOut(200),t.removeClass("active"),e.removeClass("dashicons-visibility-off").addClass("dashicons-visibility"),e.attr("title","View Details"),t.attr("data-tooltip","View Details"))}),t.fadeIn(200,function(){t.addClass("visible")})))}return!1}),t();{let a=n("#wo-settings-form");if(a.length){let o=n("#wo-save-settings"),i=n("#wo-save-status");a.on("submit",function(t){t.preventDefault(),o.prop("disabled",!0).text("Saving...");let e=new FormData;a.find('input[type="text"], input[type="number"], input[type="email"], input[type="hidden"]').each(function(){var t=n(this);t.is(":disabled")||e.append(t.attr("name"),t.val())}),a.find('input[type="checkbox"]').each(function(){var t=n(this);e.append(t.attr("name"),t.prop("checked")?"1":"0")}),"undefined"!=typeof woRemoteLogout&&(e.append("nonce",woRemoteLogout.nonce),e.append("action","wo_save_settings"),n.ajax({url:woRemoteLogout.ajaxUrl,method:"POST",data:e,processData:!1,contentType:!1,success:function(t){o.prop("disabled",!1).text("Save Settings"),(t.success?i.html('<div class="notice notice-success inline"><p>Settings saved successfully.</p></div>'):(t=t.data||"Unknown error occurred.",i.html('<div class="notice notice-error inline"><p>Error: '+t+"</p></div>"))).show(),i.css("opacity",0).animate({opacity:1},300),setTimeout(function(){i.fadeOut(300,function(){n(this).empty()})},3e3)},error:function(){o.prop("disabled",!1).text("Save Settings"),i.html('<div class="notice notice-error inline"><p>Error saving settings. Please try again.</p></div>').show()}}))})}}n(".widefat").not(".table-responsive .widefat").wrap('<div class="table-responsive"></div>'),n(document).on("click",".notice-dismiss",function(){n(this).closest(".notice").fadeOut(300,function(){n(this).remove()})})})})((window,document,jQuery));